<!DOCTYPE html><html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ê¨≤Êúõ„É°„Éº„Ç´„Éº</title>
  <style>
    body {
      font-family: "Hiragino Kaku Gothic ProN", sans-serif;
      background-color: #1b1b1b;
      color: #eee;
      text-align: center;
      padding: 1rem;
    }
    h1 {
      color: #ff5252;
      font-size: 1.8rem;
      margin-bottom: 1rem;
    }
    input, button {
      font-size: 1rem;
      padding: 0.6rem;
      margin: 0.2rem;
      border: none;
      border-radius: 5px;
    }
    input {
      width: 60%;
      max-width: 300px;
    }
    button {
      background-color: #ff5252;
      color: white;
      cursor: pointer;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(9, 1fr);
      gap: 4px;
      margin-top: 1.5rem;
      position: relative;
    }
    .cell {
      background: #333;
      color: white;
      padding: 10px 4px;
      font-size: 0.7rem;
      border-radius: 4px;
      min-height: 36px;
      display: flex;
      justify-content: center;
      align-items: center;
      word-break: break-word;
      position: relative;
      box-sizing: border-box;
    }
    .core { background: #e53935 !important; }
    .main { background: #1e88e5 !important; }
    .sub  { background: #43a047 !important; }
    .outer-border {
      outline: 2px solid #aaa;
    }
    .outer-border-top    { border-top: 2px solid #aaa; }
    .outer-border-bottom { border-bottom: 2px solid #aaa; }
    .outer-border-left   { border-left: 2px solid #aaa; }
    .outer-border-right  { border-right: 2px solid #aaa; }
    #shareBtn {
      display: inline-block;
      margin-top: 1.5rem;
      background: #1da1f2;
      color: white;
      padding: 0.6rem 1rem;
      border-radius: 5px;
      text-decoration: none;
    }
    footer {
      margin-top: 2rem;
    }
    footer a {
      color: #1da1f2;
      text-decoration: none;
    }
    @media (max-width: 600px) {
      .cell {
        font-size: 0.6rem;
        padding: 8px 2px;
      }
    }
  </style>
</head>
<body>
  <h1>Ê¨≤Êúõ„É°„Éº„Ç´„Éº</h1>
  <input type="text" id="nameInput" placeholder="ÂêçÂâç„ÇíÂÖ•Âäõ„Åó„Å¶Ë®∫Êñ≠" />
  <button onclick="generateDesire()">Ë®∫Êñ≠„Åô„Çã</button>
  <div id="resultArea"></div>
  <a id="shareBtn" href="#" target="_blank" style="display:none;">X„Åß„Ç∑„Çß„Ç¢</a>
  <footer>
    <p>„Å§„Åè„Å£„Åü„Å≤„Å® ‚Üí <a href="https://x.com/kkp_webninja" target="_blank">@kkp_webninja</a></p>
  </footer>
  <script>
    const desires = [
      { type: "ÈáëÊ¨≤", core: "„ÅäÈáë„Åå„Åª„Åó„ÅÑ", related: ["ÂâØÊ•≠", "Ë≥áÁî£ÈÅãÁî®", "ÊäïË≥á", "Ë≤ØÈáë", "ÁØÄÁ¥Ñ", "ÂÆù„Åè„Åò", "ÂèéÁõäÂåñ", "Á®º„ÅêÂäõ", "Ë≤°„ÉÜ„ÇØ", "„ÅäÈáëÂ§ßÂ•Ω„Åç", "„Ç≠„É£„ÉÉ„Ç∑„É•„Éï„É≠„Éº", "Ê®©Âà©ÂèéÂÖ•", "ÈÖçÂΩìÈáë", "‰∏çÂä¥ÊâÄÂæó", "FIRE", "ÁµåÊ∏àÁöÑËá™Áî±", "ÈáëÈÅã„Ç¢„ÉÉ„Éó", "ÈáëÊåÅ„Å°Áà∂„Åï„Çì", "„ÅäÈáë„ÅÆÂãâÂº∑", "Ë≤°Â∏É„Åå„Éë„É≥„Éë„É≥"] },
      { type: "È£üÊ¨≤", core: "ÁæéÂë≥„Åó„ÅÑ„ÇÇ„ÅÆ„ÅåÈ£ü„Åπ„Åü„ÅÑ", related: ["„Çπ„Ç§„Éº„ÉÑ", "„É©„Éº„É°„É≥", "ÁÑºËÇâ", "„ÅäÂØøÂè∏", "È£ü„ÅπÊîæÈ°å", "Ê∑±Â§ú„ÅÆ„É©„Éº„É°„É≥", "Êò†„Åà„Ç∞„É´„É°", "È£ü„ÅπÊ≠©„Åç", "È£ü„É¨„Éù", "„Ç∞„É´„É°ÊóÖ", "Â≠§Áã¨„ÅÆ„Ç∞„É´„É°", "„ÅäÂèñ„ÇäÂØÑ„Åõ", "„Ç≥„É≥„Éì„ÉãÊñ∞‰Ωú", "„Çπ„Çø„ÉêÊñ∞‰Ωú", "ÊøÄËæõ„ÉÅ„É£„É¨„É≥„Ç∏", "BÁ¥ö„Ç∞„É´„É°", "Èçã„Éë", "Êò†„ÅàÈ£Ø", "„Çø„Éî„Ç™„Ç´", "„Åä„ÇÑ„Å§„Çø„Ç§„É†"] },
      { type: "ÊâøË™çÊ¨≤", core: "Ë™ç„ÇÅ„Çâ„Çå„Åü„ÅÑ", related: ["„Éê„Ç∫„Çä„Åü„ÅÑ", "„ÅÑ„ÅÑ„Å≠Ê¨≤„Åó„ÅÑ", "„Éï„Ç©„É≠„ÉØ„ÉºÂ¢óÂä†", "SNSÊò†„Åà", "ÂΩ±ÈüøÂäõ", "„É¢„ÉÜ„Åü„ÅÑ", "Áß∞Ë≥õ", "„Éí„Éº„É≠„ÉºÈ°òÊúõ", "ÁõÆÁ´ã„Å°„Åü„ÅÑ", "Ë©±È°å„ÅÆ‰∏≠ÂøÉ", "„Éà„É¨„É≥„Éâ„Å´‰πó„Çä„Åü„ÅÑ", "ÁÇé‰∏ä‰∏äÁ≠â", "Ëá™ÊíÆ„Çä", "„Éñ„É©„É≥„Éâ", "È´òÁ¥öÊôÇË®à", "„É™„Ç¢ÂÖÖ„Ç¢„Éî„Éº„É´", "ÂÆüÁ∏æ„Ç¢„Éî", "Â≠¶Ê≠¥„Éâ„É§", "Ë≥áÊ†º„Éû„Ç¶„É≥„Éà", "Ëá™ÊÖ¢„Åó„Åü„ÅÑ"] },
      { type: "Áôí„ÅóÊ¨≤", core: "Áôí„Åï„Çå„Åü„ÅÑ", related: ["Ê∏©Ê≥â", "„Éû„ÉÉ„Çµ„Éº„Ç∏", "„Éö„ÉÉ„ÉàÂãïÁîª", "„Ç¢„É≠„Éû", "Ëá™ÁÑ∂", "„Çπ„É≠„Éº„É©„Ç§„Éï", "„Éí„Éº„É™„É≥„Ç∞Èü≥Ê•Ω", "„ÅäÊòºÂØù", "„Å¨„Åè„ÇÇ„Çä", "„Å¨„ÅÑ„Åê„Çã„Åø", "ÁÑö„ÅçÁÅ´", "Ê£ÆÊûóÊµ¥", "Êµ∑Ëæ∫„ÅÆÊï£Ê≠©", "Èõ®Èü≥BGM", "Áå´„Ç´„Éï„Çß", "Âø´Áú†„Ç∞„ÉÉ„Ç∫", "ÂÑ™„Åó„ÅÑË®ÄËëâ", "„Å¨„Åè„ÇÇ„ÇäÂ∏ÉÂõ£", "„Åª„Å£„Å®„Åô„ÇãÁ©∫Èñì", "Áôí„ÇÑ„ÅóÁ≥ªÂΩºÂ•≥"] },
      { type: "ÊîØÈÖçÊ¨≤", core: "ÊîØÈÖç„Åó„Åü„ÅÑ", related: ["„É™„Éº„ÉÄ„Éº", "ÊîØÈÖçËÄÖÁõÆÁ∑ö", "ÊåáÁ§∫Âá∫„Åó", "ÊîØÈÖçÁöÑ„Éù„Ç∏„Ç∑„Éß„É≥", "ÁéãÊßò„Ç≤„Éº„É†", "Âè∏‰ª§Â°î", "ÈÉ®‰∏ãËÇ≤Êàê", "Âº∑„ÅÑÁô∫Ë®ÄÊ®©", "„Éú„ÇπÊ∞óË≥™", "Áã¨Ë£ÅËÄÖ„Åî„Å£„Åì", "Ê±∫ÂÆöÊ®©", "ÊåáÂ∞éËÄÖ", "ÂëΩ‰ª§Âè£Ë™ø", "Áµ∂ÂØæÊúçÂæì", "ÊîØÈÖç‰∏ã", "‰∏ªÂæìÈñ¢‰øÇ", "‰∏ä„Åã„ÇâÁõÆÁ∑ö", "Âäõ„Åß„Å≠„Åò‰ºè„Åõ„Åü„ÅÑ", "ÁµÑÁπîÊéåÊè°", "‰ø∫„É´„Éº„É´"] }
    ];const noise = ["‚òÖ", "‚òÜ", "‚òØ", "‚Äª", "‚ô®", "‚àû", "‚ô°", "‚ô™", "‚ôª", "‚ö°", "‚òï", "üåô", "üí∞", "üçú", "üî•", "üéØ", "üêæ", "üì±", "üëë", "üò¥"];

function hashSeed(str) {
  return str.split('').reduce((s, c) => s + c.charCodeAt(0), 0);
}

function generateDesire() {
  const name = document.getElementById("nameInput").value.trim();
  if (!name) return alert("ÂêçÂâç„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ");
  const seed = hashSeed(name);
  const coreDesire = desires[seed % desires.length];
  const subDesires = desires.filter(d => d !== coreDesire);

  const grid = Array(81).fill(null).map((_, i) => ({ text: noise[(seed + i) % noise.length], class: "" }));
  const centerIndexes = [30,31,32,39,40,41,48,49,50];
  const shuffled = [...coreDesire.related];
  for (let i = shuffled.length - 1; i > 0; i--) {
    const j = (seed + i) % (i + 1);
    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
  }

  centerIndexes.forEach((idx, i) => {
    grid[idx] = {
      text: i === 4 ? coreDesire.core : shuffled[i % shuffled.length],
      class: i === 4 ? "core" : "main"
    };
  });

  const outerBlocks = [
    [0,1,2,9,10,11,18,19,20], [3,4,5,12,13,14,21,22,23], [6,7,8,15,16,17,24,25,26],
    [27,28,29,36,37,38,45,46,47], [51,52,53,60,61,62,69,70,71], [54,55,56,63,64,65,72,73,74],
    [57,58,59,66,67,68,75,76,77], [33,34,35,42,43,44,51,52,53]
  ];

  outerBlocks.forEach((block, b) => {
    const d = subDesires[(seed + b * 7) % subDesires.length];
    block.forEach((idx, i) => {
      let cls = "sub";
      if (i < 3) cls += " outer-border-top";
      if (i % 3 === 0) cls += " outer-border-left";
      if (i % 3 === 2) cls += " outer-border-right";
      if (i >= 6) cls += " outer-border-bottom";
      grid[idx] = {
        text: d.related[(seed + idx + i) % d.related.length],
        class: cls
      }
    });
  });

  let html = `<h2>${name}„ÅÆÊ¨≤Êúõ„Çø„Ç§„ÉóÔºö${coreDesire.type}</h2><div class="grid">`;
  grid.forEach(cell => {
    html += `<div class="cell ${cell.class}">${cell.text}</div>`;
  });
  html += `</div>`;
  document.getElementById("resultArea").innerHTML = html;

  const shareText = encodeURIComponent(`${name}„ÅÆÊ¨≤Êúõ„ÅØ„Äå${coreDesire.type}„Äç„ÅßÊ∫¢„Çå„Å¶„ÅÑ„Åü‚Ä¶ÔºÅ #Ê¨≤Êúõ„É°„Éº„Ç´„Éº`);
  const pageUrl = encodeURIComponent(location.href);
  document.getElementById("shareBtn").href = `https://twitter.com/intent/tweet?text=${shareText}&url=${pageUrl}`;
  document.getElementById("shareBtn").style.display = "inline-block";
}

  </script>
</body>
</html>
